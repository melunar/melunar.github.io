{"version":3,"sources":["webpack:///node_modules/._vue-ueditor@0.1.3@vue-ueditor/src/components/UEditor.vue","webpack:///./node_modules/._vue-ueditor@0.1.3@vue-ueditor/src/components/UEditor.vue?eb8d","webpack:///./node_modules/._vue-ueditor@0.1.3@vue-ueditor/src/index.js","webpack:///./node_modules/._vue-ueditor@0.1.3@vue-ueditor/src/components/UEditor.vue","webpack:///src/components/meta/rich_text/setting.vue","webpack:///./src/components/meta/rich_text/setting.vue?6a96","webpack:///./src/components/meta/rich_text/setting.vue"],"names":["UEditor","String","Object","initEditor","insertScriptTag","destroy","_this","this","configScriptTag","editorScriptTag","scriptTagStatus","_this2","ueditorConfig","instance","components_UEditor","render","_h","$createElement","_self","_c","attrs","id","randomId","name","type","staticRenderFns","src","__webpack_require__","normalizeComponent","setting","bgColor","paddingValue","numberSlider","number_slider","metaId","richTextContent","data","getContent","rich_text_setting","_vm","staticClass","labelText","defaultColor","model","value","callback","$$v","expression","_v","tipsText","max","min","ueditorPath","on","ready","setting_Component","setting_normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0HAKA,IAAAA,QAEA,sCAIAC,eAEA,+CAGAC,gFASA,4BAEA,qBAEA,gEAKA,OACAC,mBAGAC,uGAMAC,+CAIA,IAAAC,EAAAC,+BACA,6CAGA,+BACA,2BACA,kFAEA,4CACA,+EACA,8DACA,iBACAC,iBACAC,iBAKAC,yDAGAA,4BACA,IACAP,6BAKAO,yDAGAA,4BACA,IACAP,oBAIAA,oCAGA,IAAAQ,EAAAJ,2HAMAK,2EAEAC,iBC7FAC,GADiBC,OAFjB,WAA0B,IAAaC,EAAbT,KAAaU,eAAkD,OAA/DV,KAAuCW,MAAAC,IAAAH,GAAwB,UAAoBI,OAAOC,GAA1Fd,KAA0Fe,SAAAC,KAAA,UAAAC,KAAA,iBAEnGC,oBCAjBC,ECFAC,EAAA,OAcAC,CACA5B,EACAc,GATA,EAEA,KAEA,KAEA,MAUA,gCCHAe,QAEA,mEAIA,kBAEA3B,yCAIA,oBAEA,wEASA,eAEA,4BACA4B,mCACAC,sGAKAC,aAAAC,EAAA,qSAkBAC,2CAGAJ,0BACAC,kCAEAI,6BACA,uDACAC,6CAIAD,iFAEAE,mBACA9B,UClFA+B,GADiBvB,OAFjB,WAA0B,IAAAwB,EAAAhC,KAAaS,EAAAuB,EAAAtB,eAA0BE,EAAAoB,EAAArB,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAiBqB,YAAA,2BAAqCrB,EAAA,eAAoBC,OAAOqB,UAAA,OAAAC,aAAA,QAAyCC,OAAQC,MAAAL,EAAA,QAAAM,SAAA,SAAAC,GAA6CP,EAAAT,QAAAgB,GAAgBC,WAAA,aAAuBR,EAAAS,GAAA,KAAA7B,EAAA,gBAAiCC,OAAOqB,UAAA,OAAAQ,SAAA,KAAAC,IAAA,GAAAC,IAAA,GAAoDR,OAAQC,MAAAL,EAAA,aAAAM,SAAA,SAAAC,GAAkDP,EAAAR,aAAAe,GAAqBC,WAAA,kBAA4BR,EAAAS,GAAA,KAAA7B,EAAA,cAA+BC,OAAOgC,YAAA,2BAAwCC,IAAKC,MAAAf,EAAApC,eAAwB,IAEhlBsB,oBCCjB,IAcA8B,EAdA5B,EAAA,OAcA6B,CACA3B,EACAS,GATA,EAVA,SAAAmB,GACA9B,EAAA,SAaA,kBAEA,MAUA+B,EAAA,QAAAH,EAAA","file":"static/js/4.9c017230e9b56921ba61.js","sourcesContent":["<template>\n  <script :id=\"randomId\" name=\"content\" type=\"text/plain\"></script>\n</template>\n\n<script>\nexport default {\n  name: 'VueUEditor',\n  props: {\n    ueditorPath: {\n      // UEditor 代码的路径\n      type: String,\n      default: '/static/ueditor1_4_3_3/'\n    },\n    ueditorConfig: {\n      // UEditor 配置项\n      type: Object,\n      default: function () {\n        return {};\n      }\n    }\n  },\n  data () {\n    return {\n      // 为了避免麻烦，每个编辑器实例都用不同的 id\n      randomId: 'editor_' + (Math.random() * 100000000000000000),\n      instance: null,\n      // scriptTagStatus -> 0:代码未加载，1:两个代码依赖加载了一个，2:两个代码依赖都已经加载完成\n      scriptTagStatus: 0\n    };\n  },\n  created () {\n    if (window.UE !== undefined) {\n      // 如果全局对象存在，说明编辑器代码已经初始化完成，直接加载编辑器\n      this.scriptTagStatus = 2;\n      this.initEditor();\n    } else {\n      // 如果全局对象不存在，说明编辑器代码还没有加载完成，需要加载编辑器代码\n      this.insertScriptTag();\n    }\n  },\n  beforeDestroy () {\n    // 组件销毁的时候，要销毁 UEditor 实例\n    if (this.instance !== null && this.instance.destroy) {\n      this.instance.destroy();\n    }\n  },\n  methods: {\n    insertScriptTag () {\n      let editorScriptTag = document.getElementById('editorScriptTag');\n      let configScriptTag = document.getElementById('configScriptTag');\n\n      // 如果这个tag不存在，则生成相关代码tag以加载代码\n      if (editorScriptTag === null) {\n        configScriptTag = document.createElement('script');\n        configScriptTag.type = 'text/javascript'; configScriptTag.src = this.ueditorPath + 'ueditor.config.js'; configScriptTag.id = 'configScriptTag';\n\n        editorScriptTag = document.createElement('script');\n        editorScriptTag.type = 'text/javascript'; editorScriptTag.src = this.ueditorPath + 'ueditor.all.js'; editorScriptTag.id = 'editorScriptTag';\n        let s = document.getElementsByTagName('head')[0];\n        s.appendChild(configScriptTag);\n        s.appendChild(editorScriptTag);\n      }\n\n      // 等待代码加载完成后初始化编辑器\n      if (configScriptTag.loaded) {\n        this.scriptTagStatus++;\n      } else {\n        configScriptTag.addEventListener('load', () => {\n          this.scriptTagStatus++;\n          configScriptTag.loaded = true;\n          this.initEditor();\n        });\n      }\n\n      if (editorScriptTag.loaded) {\n        this.scriptTagStatus++;\n      } else {\n        editorScriptTag.addEventListener('load', () => {\n          this.scriptTagStatus++;\n          editorScriptTag.loaded = true;\n          this.initEditor();\n        });\n      }\n\n      this.initEditor();\n    },\n    initEditor () {\n      // scriptTagStatus 为 2 的时候，说明两个必需引入的 js 文件都已经被引入，且加载完成\n      if (this.scriptTagStatus === 2 && this.instance === null) {\n        // Vue 异步执行 DOM 更新，这样一来代码执行到这里的时候可能 template 里面的 script 标签还没真正创建\n        // 所以，我们只能在 nextTick 里面初始化 UEditor\n        this.$nextTick(() => {\n          this.instance = window.UE.getEditor(this.randomId, this.ueditorConfig);\n          // 绑定事件，当 UEditor 初始化完成后，将编辑器实例通过自定义的 ready 事件交出去\n          this.instance.addListener('ready', () => {\n            this.$emit('ready', this.instance);\n          });\n        });\n      }\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/._vue-ueditor@0.1.3@vue-ueditor/src/components/UEditor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('script',{attrs:{\"id\":_vm.randomId,\"name\":\"content\",\"type\":\"text/plain\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4eacaaf9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/._vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./node_modules/._vue-ueditor@0.1.3@vue-ueditor/src/components/UEditor.vue\n// module id = null\n// module chunks = ","import UEditor from './components/UEditor.vue';\n\nexport default UEditor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._vue-ueditor@0.1.3@vue-ueditor/src/index.js\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../._vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../._vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./UEditor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../._vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./UEditor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../._vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4eacaaf9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../._vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./UEditor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._vue-ueditor@0.1.3@vue-ueditor/src/components/UEditor.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"meta-rich-text-setting\">\r\n        <colorSelect \r\n            :labelText=\"'背景颜色'\"\r\n            v-model=\"bgColor\" \r\n            :defaultColor=\"'#fff'\" />\r\n          <numberSlider \r\n            v-model=\"paddingValue\"\r\n            :labelText=\"'页面边距'\"\r\n            :tipsText=\"'px'\"\r\n            :max=\"50\" :min=\"0\" />\r\n        <!-- vueUEditor.ueditorPath注意路径别少了最后的斜杠 -->\r\n        <vueUEditor @ready=\"initEditor\" :ueditorPath=\"'/static/ueditor1_4_3_3/'\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport vueUEditor from \"vue-ueditor\";\r\nimport colorSelect from \"../_base/color_select.vue\";\r\nimport numberSlider from \"../_base/number_slider.vue\";\r\nexport default {\r\n    name: \"metaRichTextSetting\",\r\n    mixins:[],\r\n    props: { \r\n        // 组件id\r\n        metaId: {type: Number, default: 0 },\r\n        metaInfo: {\r\n            type: Object,\r\n            default: function() {\r\n                return { \r\n                    // 背景颜色\r\n                    bgColor: \"#fff\",\r\n                    // 内边距\r\n                    paddingValue: 3,\r\n                    richTextContent: \"<p>请输入内容...</p>\" //内容\r\n                     \r\n                }\r\n            }\r\n        }\r\n    },\r\n    data: function() {\r\n        return {\r\n          metaType: \"001\",\r\n          metaText: \"富文本\", \r\n\r\n          bgColor: this.metaInfo.bgColor,\r\n          paddingValue: this.metaInfo.paddingValue,\r\n          richTextContent: this.metaInfo.richTextContent //内容\r\n        };\r\n    },\r\n    components: {\r\n      vueUEditor, colorSelect, numberSlider\r\n        /*requireDemo: function (resolve) {\r\n            require([\"\"], resolve);\r\n        }*/\r\n    },\r\n    created: function() {},\r\n    mounted: function() {},\r\n    beforeDestroy: function() {},\r\n    computed: {},\r\n    watch: {\r\n      \"bgColor\": function() { this.dispatchNewStore(); },\r\n      \"paddingValue\": function() { this.dispatchNewStore(); },\r\n      \"richTextContent\": function() { this.dispatchNewStore(); },\r\n    },\r\n    methods: {\r\n      //更新属性数据\r\n        dispatchNewStore: function() {\r\n            var data = {\r\n                metaId: this.metaId,\r\n                metaType: this.metaType, //组件类型 一定要有\r\n\r\n                bgColor: this.bgColor,  \r\n                paddingValue: this.paddingValue,  \r\n                richTextContent: this.richTextContent\r\n            };\r\n            console.log(\"组件设置变更....\");\r\n            this.$store.dispatch(\"VUEX_SETTING_META\", data);\r\n        },\r\n      initEditor: function(editorInstance) {\r\n        //设置初始化内容\r\n        editorInstance.setContent(this.richTextContent);\r\n        editorInstance.addListener(\"contentChange\", function() {\r\n          this.richTextContent = editorInstance.getContent();\r\n        }.bind(this));\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n    //@import \"../less/variables.less\";\r\n    //@import \"../less/sprite.less\";\r\n    .meta-rich-text-setting {\r\n        \r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/meta/rich_text/setting.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"meta-rich-text-setting\"},[_c('colorSelect',{attrs:{\"labelText\":'背景颜色',\"defaultColor\":'#fff'},model:{value:(_vm.bgColor),callback:function ($$v) {_vm.bgColor=$$v},expression:\"bgColor\"}}),_vm._v(\" \"),_c('numberSlider',{attrs:{\"labelText\":'页面边距',\"tipsText\":'px',\"max\":50,\"min\":0},model:{value:(_vm.paddingValue),callback:function ($$v) {_vm.paddingValue=$$v},expression:\"paddingValue\"}}),_vm._v(\" \"),_c('vueUEditor',{attrs:{\"ueditorPath\":'/static/ueditor1_4_3_3/'},on:{\"ready\":_vm.initEditor}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/._vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-2512aa1f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/._vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/meta/rich_text/setting.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/._extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/._vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2512aa1f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/._vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./setting.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/._vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/._vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./setting.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/._vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./setting.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/._vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2512aa1f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/._vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./setting.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2512aa1f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/meta/rich_text/setting.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}