webpackJsonp([7],{"0ka3":function(t,e){},"1R0k":function(t,e){},FyQk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={templatePagesList:{comment:"根据模板获取所有页面",url:"/static/mock/pages_in_template.json",method:"get",isRequestBody:!1},pageInfo:{comment:"根据页面获取页面信息，包括页面配置和组件及信息",url:"/static/mock/page_info.json",method:"get",isRequestBody:!1}}},IDLo:function(t,e){},LKZT:function(t,e){},MQLW:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("MVMM"),s=a("9rMa"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("Z0/y")({name:"App",computed:{},watch:{}},i,!1,function(t){a("ui8E")},null,null).exports,r=a("zO6J"),c={name:"pageHeader",data:function(){return{metaTypeMap:{},metaTypeList:GC.metaTypeList,metaList:GC.metaList,curMetaList:[],curMetaPanelStyle:{}}},created:function(){this._initMetaTypeMap()},mounted:function(){},beforeDestroy:function(){},methods:{_initMetaTypeMap:function(){this.metaTypeMap={};var t=null;for(var e in this.metaTypeList)t=this.metaTypeList[e],this.metaTypeMap[t.id]||(this.metaTypeMap[t.id]=t.name);window.GC.metaTypeMap=this.metaTypeMap},showSubMeta:function(t,e,a){for(var n in this.curMetaList=[],this.metaList)this.metaList[n].type===e&&this.curMetaList.push(this.metaList[n]);this.curMetaPanelStyle={left:40+80*a+"px"},console.log(t.pageX,t.pageY)},hideSubMeta:function(){console.log("hideSubMeta"),this.curMetaList=[]},testVuexDispatch:function(){},pageSet:function(){this.$store.dispatch("VUEX_SETTING_IS_PAGE",!0)}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"navbar-left fl"},[a("span",{staticClass:"normal-btn",on:{click:t.testVuexDispatch}},[a("i",{staticClass:"fa fa-angle-left btn-pre-icon",staticStyle:{"font-size":"20px"}}),t._v(" "),a("span",{staticClass:"btn-text"},[t._v("返回")])])]),t._v(" "),a("div",{staticClass:"navbar-main"},[a("span",{staticClass:"normal-btn up-down-btn",on:{click:t.pageSet}},[a("i",{staticClass:"fa fa-wrench btn-pre-icon"}),t._v(" "),a("span",{staticClass:"btn-text"},[t._v("页面设置")])]),t._v(" "),t._l(t.metaTypeList,function(e,n){return a("span",{key:n,staticClass:"normal-btn up-down-btn",on:{mouseover:function(a){t.showSubMeta(a,e.id,n)}}},[a("i",{staticClass:"btn-pre-icon",class:[e.fontawesomeIcon]}),t._v(" "),a("span",{staticClass:"btn-text"},[t._v(t._s(e.name))])])}),t._v(" "),t.curMetaList.length?a("div",{staticClass:"panel-lists box-shadow",style:t.curMetaPanelStyle,on:{mouseleave:t.hideSubMeta}},[a("ul",{staticClass:"show-panel"},t._l(t.curMetaList,function(e,n){return a("li",{key:n,staticClass:"panel-meta"},[a("i",{class:[e.fontawesomeIcon]}),t._v(" "),a("span",[t._v(t._s(e.name))])])}))]):t._e()],2),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"navbar-right fr"},[a("span",{staticClass:"normal-btn"},[a("i",{staticClass:"fa fa-cog fa-fw btn-pre-icon"}),t._v(" "),a("span",{staticClass:"btn-text"},[t._v("模板设置")])]),t._v(" "),a("span",{staticClass:"normal-btn"},[a("i",{staticClass:"fa fa-copy fa-fw btn-pre-icon"}),t._v(" "),a("span",{staticClass:"btn-text"},[t._v("另存为模板")])]),t._v(" "),a("span",{staticClass:"normal-btn"},[a("i",{staticClass:"fa fa-save fa-fw btn-pre-icon"}),t._v(" "),a("span",{staticClass:"btn-text"},[t._v("保存页面")])])])}]};var p=a("Z0/y")(c,m,!1,function(t){a("LKZT")},"data-v-87727780",null).exports,u={name:"pageList",mixins:[],data:function(){return{pageListArr:[]}},components:{},created:function(){this.getPageList()},mounted:function(){},beforeDestroy:function(){},computed:{},watch:{},methods:{getPageList:function(){SERVICE("templatePagesList",null,function(t){this.pageListArr=t.data,t.data&&t.data.forEach&&t.data.length&&this.getPageInfo(0)}.bind(this))},getPageInfo:function(t,e){var a={id:e?t:this.pageListArr[t].id};SERVICE("pageInfo",a,function(t){this.setCurPageStore(t.data)}.bind(this))},addNewPage:function(){var t={id:(new Date).getTime(),title:"未命名页面",isHomePage:!1};this.pageListArr.push(t)},setHomePage:function(t,e){for(var a=this.pageListArr.length,n=0;n<a;n++)this.pageListArr[n].id===t.id?this.pageListArr[n].isHomePage=!0:this.pageListArr[n].isHomePage=!1},editPage:function(t){var e=t.id;this.getPageInfo(e,!0)},deletePage:function(t){for(var e=this.pageListArr.length,a=0;a<e;a++)if(this.pageListArr[a].id===t.id){this.pageListArr.splice(a,1);break}},setCurPageStore:function(t){t.config?(this.$store.dispatch("VUEX_SETTING_PAGE",t.config),this.$store.dispatch("VUEX_SETTING_IS_PAGE",!0),t.metas?this.$store.dispatch("VUEX_PAGE_METAS",t.metas):message.error("获取页面组件！")):message.error("获取页面配置失败！")}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-manager"},[a("div",{staticClass:"page-list-header"},[a("div",{staticClass:"plh-title"},[t._v("页面\n        "),a("i",{staticClass:"plh-add fa fa-plus",attrs:{title:"新建页面"},on:{click:t.addNewPage}})])]),t._v(" "),a("div",{staticClass:"page-list-content"},[a("el-table",{staticStyle:{width:"100%",height:"25"},attrs:{data:t.pageListArr}},[a("el-table-column",{attrs:{prop:"title",label:"名称",width:"170"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isHomePage",label:"首页",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[!0===e.row.isHomePage?a("span",{staticClass:"btn-set-home is-home",on:{click:function(a){t.setHomePage(e.row,!1)}}},[t._v("是")]):a("span",{staticClass:"btn-set-home not-home",on:{click:function(a){t.setHomePage(e.row,!0)}}},[t._v("否")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"btn-operate edit fa fa-edit",attrs:{title:"编辑"},on:{click:function(a){t.editPage(e.row)}}}),t._v(" "),a("span",{staticClass:"btn-operate delete fa fa-trash",attrs:{title:"删除"},on:{click:function(a){t.deletePage(e.row)}}})]}}])})],1)],1)])},staticRenderFns:[]};var g=a("Z0/y")(u,l,!1,function(t){a("XqRM")},"data-v-69f61930",null).exports,f={name:"componnetsOptions",mixins:[],data:function(){return{metaSettingComponentId:"",metaNameText:"",metaId:0}},components:{pageSetting:function(t){Promise.all([a.e(0),a.e(2)]).then(function(){var e=[a("myez")];t.apply(null,e)}.bind(this)).catch(a.oe)},carouselSetting:function(t){Promise.all([a.e(0),a.e(1)]).then(function(){var e=[a("Ay7r")];t.apply(null,e)}.bind(this)).catch(a.oe)},bottomMenuSetting:function(t){Promise.all([a.e(0),a.e(4)]).then(function(){var e=[a("hAyG")];t.apply(null,e)}.bind(this)).catch(a.oe)},richTextSetting:function(t){a.e(3).then(function(){var e=[a("gUeS")];t.apply(null,e)}.bind(this)).catch(a.oe)}},created:function(){},mounted:function(){},beforeDestroy:function(){},computed:{isPage:function(){return this.$store.state.system.vuex_setting_is_page},setting_page:function(){return this.$store.dispatch("VUEX_SETTING_IS_PAGE",!0),this.$store.state.system.vuex_setting_page},setting_meta:function(){if(this.$store.state.system.vuex_setting_meta){this.$store.dispatch("VUEX_SETTING_IS_PAGE",!1);var t=this.$store.state.system.vuex_setting_meta.metaId;return this.metaId!==t?this.refreshMeta(function(){this.metaId=this.$store.state.system.vuex_setting_meta.metaId,this.metaSettingComponentId=this.setMetaName(this.$store.state.system.vuex_setting_meta.metaType,this.$store.state.system.vuex_setting_meta.metaId)}.bind(this)):(this.metaId=this.$store.state.system.vuex_setting_meta.metaId,this.metaSettingComponentId=this.setMetaName(this.$store.state.system.vuex_setting_meta.metaType,this.$store.state.system.vuex_setting_meta.metaId)),this.$store.state.system.vuex_setting_meta}return this.metaSettingComponentId=this.setMetaName("0000000"),{}}},watch:{setting_page:function(t){},setting_meta:function(t){}},methods:{refreshMeta:function(t){this.metaSettingComponentId="",this.$nextTick(function(){t&&t()}.bind(this))},setMetaName:function(t,e){return GC.metaListMap[t]?(this.metaNameText=GC.metaListMap[t].name,console.log("读取到的配置组件 = "+GC.metaListMap[t].meta),GC.metaListMap[t].meta+"Setting"):""}},filters:{}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"componnets-detail-settings"},[a("div",{staticClass:"page-title"},[t._v(t._s(t.isPage?"页面配置":t.metaNameText+"配置"))]),t._v(" "),a("div",{staticClass:"page-content"},[t.isPage?a("div",{staticClass:"page-setting-content"},[a("pageSetting",{attrs:{pageName:t.setting_page&&t.setting_page.pageName,pageTitle:t.setting_page&&t.setting_page.pageTitle,pageBgColor:t.setting_page&&t.setting_page.pageBgColor,pageHeaderBgColor:t.setting_page&&t.setting_page.pageHeaderBgColor,pageHeaderColor:t.setting_page&&t.setting_page.pageHeaderColor}})],1):t._e(),t._v(" "),t.isPage?t._e():a("div",{staticClass:"meta-setting-content"},[a(t.metaSettingComponentId,{tag:"component",attrs:{metaId:t.setting_meta.metaId,metaInfo:t.setting_meta}})],1)])])},staticRenderFns:[]};var _=a("Z0/y")(f,d,!1,function(t){a("1R0k")},"data-v-0ef70676",null).exports,h=a("405r"),v={name:"appModel",mixins:[],props:{metas:{type:Array,default:function(){return[{name:"carousel",id:(new Date).getTime()},{name:"bottomMenu",id:(new Date).getTime()+1e3},{metaId:3434345,sort:1,id:"002",text:"轮播图",name:"carousel",config:{btnShape:3,btnPosition:2,btnColor:"#fff",btnMarginLR:5,btnMarginBottom:5,btnTransparency:.8}},{name:"number4"},{name:"number5"}]}},pageTitle:{type:String,default:"未命名标题"},pageBgColor:{type:String,default:"#FFF"},pageHeaderBgColor:{type:String,default:"#FFF"},pageHeaderColor:{type:Number,default:1},marginValue:{type:Number,default:0}},data:function(){return{pageHeaderColorMap:{1:"#000",2:"#fff"},metasBySort:this.metas||[]}},components:{sortableMeta:function(t){a.e(5).then(function(){var e=[a("UWW2")];t.apply(null,e)}.bind(this)).catch(a.oe)},draggable:a.n(h).a},created:function(){},mounted:function(){},beforeDestroy:function(){},computed:{componentId:function(){return this.metas.length?"sortableMeta":""}},watch:{metas:{handler:function(t){this.metasBySort=t||[]},deep:!0}},methods:{}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-model"},[a("div",{staticClass:"phone-container"},[a("div",{staticClass:"phone-model"},[a("div",{staticClass:"phone-body"},[a("div",{staticClass:"phone-header",style:{"background-color":t.pageHeaderBgColor,color:t.pageHeaderColorMap[t.pageHeaderColor]}},[t._v(t._s(t.pageTitle))]),t._v(" "),a("div",{staticClass:"phone-content",style:{"background-color":t.pageBgColor,padding:t.marginValue+"px"}},[0===t.metasBySort.length?a("div",{staticClass:"phone-empty"},[t._v("\n                        您尚未添加任何元素\n                    ")]):t._e(),t._v(" "),t.metasBySort.length>0?a("div",{staticClass:"phone-sort-meat"},[a("draggable",{model:{value:t.metasBySort,callback:function(e){t.metasBySort=e},expression:"metasBySort"}},t._l(t.metasBySort,function(e,n){return a(t.componentId,{key:n,tag:"component",attrs:{metaId:e.metaId,metaType:e.type,metaConfig:e.config}})}))],1):t._e()])])])])])},staticRenderFns:[]};var C={name:"mainPage",data:function(){return{}},components:{navHeader:p,pageList:g,cpSettings:_,page:a("Z0/y")(v,y,!1,function(t){a("IDLo")},"data-v-9d891240",null).exports},computed:{pageConfig:function(){return this.$store.state.system.vuex_setting_page?this.$store.state.system.vuex_setting_page:{}},pageMetas:function(){return this.$store.state.system.vuex_page_metas?this.$store.state.system.vuex_page_metas:[]}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting-page-container"},[a("navHeader"),t._v(" "),a("div",{staticClass:"page-container clearfix"},[a("pageList"),t._v(" "),a("cpSettings"),t._v(" "),a("page",{attrs:{metas:t.pageMetas,pageName:t.pageConfig.pageName,pageTitle:t.pageConfig.pageTitle,pageBgColor:t.pageConfig.pageBgColor,pageHeaderBgColor:t.pageConfig.pageHeaderBgColor,pageHeaderColor:t.pageConfig.pageHeaderColor,marginValue:t.pageConfig.marginValue}})],1)],1)},staticRenderFns:[]};var w=a("Z0/y")(C,b,!1,function(t){a("MQLW")},"data-v-7360ddd5",null).exports;n.default.use(r.a);var I=new r.a({routes:[{path:"/",name:"index",component:w}]}),E=a("dVeB"),S=a.n(E),T=(a("0ka3"),{system:{state:{vuex_setting_is_page:!1,vuex_page_metas:null,vuex_setting_meta:null,vuex_setting_page:null},actions:{VUEX_SETTING_PAGE:function(t,e){t.commit("VUEX_SETTING_PAGE",e)},VUEX_PAGE_METAS:function(t,e){t.commit("VUEX_PAGE_METAS",e)},VUEX_SETTING_META:function(t,e){t.commit("VUEX_SETTING_META",e)},VUEX_SETTING_IS_PAGE:function(t,e){t.commit("VUEX_SETTING_IS_PAGE",e)}},mutations:{VUEX_SETTING_PAGE:function(t,e){t.vuex_setting_page=e},VUEX_PAGE_METAS:function(t,e){t.vuex_page_metas=e},VUEX_SETTING_META:function(t,e){t.vuex_setting_meta=e},VUEX_SETTING_IS_PAGE:function(t,e){t.vuex_setting_is_page=e}}}}),M=a("aozt"),L=a.n(M),x=a("FyQk").default,P=[{url:"gateway/sys/conf_setting",type:"get",params:"",isRequestBody:!1}];L.a.get(P[0].url,{params:P[0].params});window.SERVICE=function(t,e,a,n){var s=x[t],i=s.method||"get",o=(s.isRequestBody,s.url);o?("get"===i&&L.a.get(o,{params:e}).then(function(t){a(t.data)}).catch(n),"post"===i&&L.a.post(o,{params:e}).then(function(t){a(t.data)}).catch(n)):console.warn("not config url!!!")};n.default.config.productionTip=!1,n.default.use(S.a),n.default.use(s.a);var G=new s.a.Store({state:{},mutations:{},actions:{},modules:T});a("bzuE"),window.vueInstance=new n.default({el:"#app",router:I,store:G,components:{App:o},template:"<App/>"})},XqRM:function(t,e){},bzuE:function(t,e){window.GC={},GC.metaTypeList=[{id:"01",name:"基础",fontawesomeIcon:"fa fa-cube"},{id:"02",name:"内容",fontawesomeIcon:"fa fa-cubes"},{id:"03",name:"图片",fontawesomeIcon:"fa fa-image"}],GC.metaList=[{id:"001",meta:"richText",name:"富文本",type:"01",fontawesomeIcon:"fa fa-cubes"},{id:"002",meta:"carousel",name:"轮播图",type:"01",fontawesomeIcon:"fa fa-cubes"},{id:"003",meta:"bottomMenu",name:"自定义菜单",type:"01",fontawesomeIcon:"fa fa-cubes"},{id:"0031",name:"自定义菜单1",type:"01",fontawesomeIcon:"fa fa-cubes"},{id:"0032",name:"自定义菜单2",type:"01",fontawesomeIcon:"fa fa-cubes"},{id:"0033",name:"自定义菜单3",type:"02",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"02",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"02",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"03",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"03",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"03",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"03",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"03",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"03",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"03",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"03",fontawesomeIcon:"fa fa-cubes"},{id:"0034",name:"自定义菜单4",type:"03",fontawesomeIcon:"fa fa-cubes"}],GC.metaListMap={};for(var a=0;a<GC.metaList.length;a++)GC.metaListMap[GC.metaList[a].id]=GC.metaList[a];window.messageWithConsoleLog=!1,window.message={warn:function(t){window.messageWithConsoleLog&&console.log(t),window.vueInstance.$message.warning(t)},info:function(t){window.messageWithConsoleLog&&console.log(t),window.vueInstance.$message(t)},success:function(t){window.messageWithConsoleLog&&console.log(t),window.vueInstance.$message.success(t)},error:function(t){window.messageWithConsoleLog&&console.log(t),window.vueInstance.$message.error(t)}}},ui8E:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bd152c86ddd109cf1797.js.map