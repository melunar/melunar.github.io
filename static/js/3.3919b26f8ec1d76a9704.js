webpackJsonp([3],{"2/Gb":function(e,t,o){"use strict";var n=o("405r"),l={name:"metaBaseImageUpload",mixins:[],props:{dataList:{type:Array,default:function(){return[{imgSrc:"",linkPageId:"",text:"1"},{imgSrc:"",linkPageId:"",text:"2"}]}},maxLength:{type:Number,default:10},isText:{type:Boolean,default:!1}},data:function(){return{listBySort:this.dataList}},components:{draggable:o.n(n).a},created:function(){},mounted:function(){},beforeDestroy:function(){},computed:{},watch:{},methods:{addOne:function(){this.listBySort.splice(this.listBySort.length,0,{imgSrc:"",linkPageId:"",text:""}),this.$emit("change",this.listBySort)},deleteOne:function(e,t){this.$alert("确定要删除该项？","提示",{confirmButtonText:"删除",callback:function(){this.listBySort.splice(t,1),this.$emit("change",this.listBySort)}.bind(this)})},handleRemove:function(e,t){console.log("....handleRemove"),console.log(e,t)},handlePreview:function(e){console.log("....handlePreview"),console.log(e)},handleExceed:function(e,t){console.log("....handleExceed"),this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},handleSuccess:function(e,t){var o=t.name;message.success("上传"+o+"成功！"),void 0!==this.curIndex?(this.listBySort[this.curIndex].imgSrc=t.url,this.$emit("change",this.listBySort),console.log("....handleSuccess")):message.error("error, code = 0")},handleError:function(){message.error("上传失败！"),console.log("....handleError")},beforeRemove:function(e,t){return console.log("....beforeRemove"),this.$confirm("确定移除 "+e.name+"？")},draggableSort:function(){setTimeout(function(){this.$emit("change",this.listBySort)}.bind(this))},rememberIndex:function(e){this.curIndex=e,console.log("当前操作NO."+e)}},filters:{}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"meta-base-image-upload"},[e.listBySort.length>0?o("div",{staticClass:"phone-sort-meat"},[o("draggable",{on:{sort:e.draggableSort},model:{value:e.listBySort,callback:function(t){e.listBySort=t},expression:"listBySort"}},e._l(e.listBySort,function(t,n){return o("div",{key:n,staticClass:"upload-content"},[o("div",{staticClass:"image-box"},[t.imgSrc?o("img",{staticClass:"image-self",attrs:{src:t.imgSrc}}):e._e(),e._v(" "),t.imgSrc?o("img",{staticClass:"image-self"}):e._e()]),e._v(" "),o("div",{staticClass:"upload-form"},[o("el-input",{attrs:{size:"small",disabled:"",placeholder:"图片地址"},model:{value:t.imgSrc,callback:function(o){e.$set(t,"imgSrc",o)},expression:"item.imgSrc"}},[o("template",{slot:"append"},[o("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-success":e.handleSuccess,"on-error":e.handleError,multiple:!1,"show-file-list":!1,"on-exceed":e.handleExceed,"file-list":t.imgSrc?[{name:t.imgSrc,url:t.imgSrc}]:[]}},[o("el-button",{staticStyle:{position:"relative",top:"4px"},attrs:{size:"small",type:"primary"},on:{click:function(t){e.rememberIndex(n)}}},[e._v("选择图片")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],1)],1)],2),e._v(" "),o("span",{staticClass:"split-space"}),e._v(" "),o("el-input",{attrs:{size:"small",disabled:"",placeholder:"链接地址"},model:{value:t.linkPageId,callback:function(o){e.$set(t,"linkPageId",o)},expression:"item.linkPageId"}},[o("template",{slot:"append"},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("链接地址")])],1)],2),e._v(" "),e.isText?[o("span",{staticClass:"split-space"}),e._v(" "),o("el-input",{attrs:{size:"small",placeholder:"添加文本"},model:{value:t.text,callback:function(o){e.$set(t,"text",o)},expression:"item.text"}},[o("template",{slot:"append"},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("文字")])],1)],2)]:e._e()],2),e._v(" "),o("span",{staticClass:"del-btn",on:{click:function(o){e.deleteOne(t,n)}}},[e._v("×")])])}))],1):e._e(),e._v(" "),o("div",{staticClass:"add-btn-container"},[o("el-button",{staticStyle:{width:"100%"},attrs:{disabled:e.listBySort.length>=e.maxLength,size:"medium",icon:"el-icon-plus"},on:{click:e.addOne}},[e._v("添加一个（拖拽排序）"+e._s(e.listBySort.length>=e.maxLength?"已达上限":""))])],1)])},staticRenderFns:[]};var s=o("Z0/y")(l,i,!1,function(e){o("GdU6")},"data-v-48443c9d",null);t.a=s.exports},GdU6:function(e,t){},hAyG:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("8jtC"),l=o("XUv8"),i=o("2/Gb"),s={name:"bottomMenuSetting",mixins:[],props:{metaId:{type:Number,default:0},metaInfo:{type:Object,default:function(){return{menuType:1,bgColor:"#fff",activeBgColor:"#fff",lineColor:"#fff",fontColor:"#666",activeFontColor:"#666",menuList:[{text:"",imgSrc:"",linkPageId:""},{text:"",imgSrc:"",linkPageId:""},{text:"",imgSrc:"",linkPageId:""}]}}}},data:function(){return{metaType:"003",metaText:"自定义菜单",menuType:this.metaInfo.menuType,bgColor:this.metaInfo.bgColor,activeBgColor:this.metaInfo.activeBgColor,lineColor:this.metaInfo.lineColor,fontColor:this.metaInfo.fontColor,activeFontColor:this.metaInfo.activeFontColor,menuList:this.metaInfo.menuList,menuTypeList:[{value:1,text:"图片+文字"},{value:2,text:"图片"}]}},components:{colorSelect:n.a,radioGroup:l.a,imageUploads:i.a},created:function(){},mounted:function(){},beforeDestroy:function(){},computed:{},watch:{menuType:function(){this.dispatchNewStore()},bgColor:function(){this.dispatchNewStore()},activeBgColor:function(){this.dispatchNewStore()},lineColor:function(){this.dispatchNewStore()},fontColor:function(){this.dispatchNewStore()},activeFontColor:function(){this.dispatchNewStore()},menuList:function(){this.dispatchNewStore()}},methods:{getNewImages:function(e){this.menuList=e},dispatchNewStore:function(){var e={metaId:this.metaId,metaType:this.metaType,menuType:this.menuType,bgColor:this.bgColor,activeBgColor:this.activeBgColor,lineColor:this.lineColor,fontColor:this.fontColor,activeFontColor:this.activeFontColor,menuList:this.menuList};console.log("组件设置变更...."),this.$store.dispatch("VUEX_SETTING_META",e)},consoleOut:function(){console.group("/***page setting output"),console.log("MenuType = "+this.MenuType),console.log("ActiveBgColor = "+this.ActiveBgColor),console.log("LineColor = "+this.LineColor),console.log("FontColor = "+this.FontColor),console.log("ActiveFontColor = "+this.ActiveFontColor),console.groupEnd("page setting output***/")}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bottom-menu-setting"},[o("radioGroup",{attrs:{labelText:"菜单样式",radioArray:e.menuTypeList},model:{value:e.menuType,callback:function(t){e.menuType=t},expression:"menuType"}}),e._v(" "),o("colorSelect",{attrs:{labelText:"默认背景颜色",defaultColor:"#fff"},model:{value:e.bgColor,callback:function(t){e.bgColor=t},expression:"bgColor"}}),e._v(" "),o("colorSelect",{attrs:{labelText:"选中背景颜色",defaultColor:"#fff"},model:{value:e.activeBgColor,callback:function(t){e.activeBgColor=t},expression:"activeBgColor"}}),e._v(" "),o("colorSelect",{attrs:{labelText:"边框颜色",defaultColor:"#fff"},model:{value:e.lineColor,callback:function(t){e.lineColor=t},expression:"lineColor"}}),e._v(" "),1===e.menuType?o("colorSelect",{attrs:{labelText:"默认文字颜色",defaultColor:"#666"},model:{value:e.fontColor,callback:function(t){e.fontColor=t},expression:"fontColor"}}):e._e(),e._v(" "),1===e.menuType?o("colorSelect",{attrs:{labelText:"选中文字颜色",defaultColor:"#666"},model:{value:e.activeFontColor,callback:function(t){e.activeFontColor=t},expression:"activeFontColor"}}):e._e(),e._v(" "),o("imageUploads",{attrs:{maxLength:6,dataList:e.menuList,isText:1===e.menuType},on:{change:e.getNewImages}}),e._v(" "),o("br"),o("br"),e._v(" "),o("el-button",{on:{click:e.consoleOut}},[e._v("输出参数（console）")])],1)},staticRenderFns:[]};var r=o("Z0/y")(s,a,!1,function(e){o("qTrQ")},"data-v-bade7f46",null);t.default=r.exports},qTrQ:function(e,t){}});
//# sourceMappingURL=3.3919b26f8ec1d76a9704.js.map